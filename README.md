# Eloquent_classifier
ML trial for mask detection 

# image samples to csv
I used a small python code to convert my sample images to csv files. One file per class and one image per line.

# csv to load_features to get model.h
Than I used Kaggle to use 'load_features' and genrated model.h
why?  Coz code is not working in windows. it is generating error nomodule found for skbayes and upon searching I ended up here :
https://github.com/AmazaspShumik/sklearn-bayes/issues/35

# Arduino setup and upload

upon collecting everything I uploaded code which is present in this repo. I found serial output like This :
```
ets Jun  8 2016 00:22:57

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:1
load:0x3fff0018,len:4
load:0x3fff001c,len:1216
ho 0 tail 12 room 4
load:0x40078000,len:9720
ho 0 tail 12 room 4
load:0x40080400,len:6352
entry 0x400806b8
OK
175.00	193.00	209.00	206.00	157.00	166.00	238.00	255.00	255.00	255.00	255.00	255.00	221.00	137.00	144.00	153.00	175.00	187.00	206.00	229.00	251.00	240.00	180.00	174.00	199.00	240.00	255.00	255.00	246.00	213.00	148.00	88.00	171.00	182.00	197.00	216.00	238.00	253.00	255.00	254.00	232.00	191.00	171.00	160.00	152.00	155.00	153.00	139.00	166.00	176.00	190.00	207.00	224.00	241.00	252.00	254.00	254.00	254.00	247.00	230.00	199.00	153.00	108.00	81.00	161.00	171.00	183.00	196.00	211.00	225.00	236.00	240.00	241.00	234.00	225.00	207.00	187.00	167.00	144.00	120.00	155.00	165.00	176.00	188.00	195.00	207.00	219.00	223.00	220.00	213.00	202.00	187.00	170.00	152.00	132.00	110.00	148.00	157.00	166.00	168.00	163.00	188.00	198.00	200.00	198.00	190.00	178.00	166.00	152.00	138.00	120.00	100.00	140.00	146.00	150.00	143.00	147.00	167.00	179.00	181.00	178.00	162.00	117.00	89.00	81.00	117.00	107.00	87.00	132.00	137.00	129.00	126.00	124.00	139.00	160.00	160.00	153.00	67.00	45.00	54.00	56.00	49.00	84.00	76.00	125.00	126.00	113.00	111.00	105.00	97.00	120.00	137.00	99.00	30.00	37.00	35.00	30.00	57.00	52.00	65.00	119.00	116.00	109.00	106.00	97.00	75.00	52.00	69.00	50.00	29.00	36.00	42.00	35.00	24.00	44.00	56.00	113.00	112.00	108.00	109.00	107.00	101.00	88.00	54.00	49.00	34.00	27.00	25.00	24.00	22.00	22.00	42.00	Object: 
nomask
155.00	154.00	153.00	153.00	159.00	180.00	191.00	194.00	191.00	193.00	196.00	204.00	203.00	197.00	190.00	179.00	155.00	152.00	150.00	147.00	142.00	171.00	173.00	175.00	185.00	191.00	190.00	191.00	193.00	185.00	174.00	162.00	156.00	154.00	154.00	147.00	123.00	106.00	139.00	162.00	179.00	187.00	188.00	185.00	181.00	172.00	160.00	145.00	156.00	158.00	161.00	161.00	139.00	103.00	134.00	142.00	146.00	178.00	185.00	180.00	173.00	161.00	147.00	129.00	154.00	156.00	159.00	160.00	150.00	115.00	81.00	113.00	162.00	124.00	164.00	172.00	163.00	150.00	132.00	108.00	152.00	154.00	157.00	158.00	150.00	93.00	80.00	78.00	111.00	87.00	125.00	160.00	150.00	137.00	115.00	104.00	150.00	152.00	154.00	156.00	152.00	96.00	96.00	91.00	107.00	128.00	130.00	145.00	132.00	120.00	127.00	94.00	148.00	149.00	151.00	152.00	151.00	109.00	69.00	64.00	74.00	98.00	136.00	109.00	110.00	115.00	115.00	45.00	144.00	144.00	146.00	148.00	149.00	140.00	53.00	49.00	52.00	63.00	106.00	74.00	93.00	73.00	49.00	37.00	129.00	143.00	147.00	141.00	140.00	126.00	52.00	42.00	41.00	62.00	80.00	88.00	66.00	50.00	39.00	35.00	89.00	116.00	141.00	146.00	135.00	107.00	64.00	53.00	53.00	76.00	92.00	65.00	54.00	42.00	38.00	49.00	79.00	91.00	118.00	138.00	139.00	126.00	105.00	80.00	86.00	86.00	72.00	57.00	50.00	40.00	53.00	19.00	Object: 
nomask
167.00	165.00	160.00	153.00	138.00	141.00	167.00	165.00	181.00	191.00	196.00	194.00	201.00	199.00	194.00	185.00	171.00	170.00	169.00	167.00	152.00	101.00	122.00	157.00	183.00	191.00	195.00	193.00	193.00	188.00	180.00	170.00	169.00	169.00	172.00	173.00	161.00	97.00	114.00	140.00	149.00	194.00	197.00	193.00	187.00	177.00	166.00	153.00	168.00	168.00	171.00	173.00	114.00	90.00	107.00	148.00	145.00	146.00	190.00	188.00	179.00	167.00	153.00	135.00	166.00	168.00	171.00	173.00	106.00	105.00	119.00	132.00	116.00	134.00	184.00	178.00	168.00	156.00	139.00	116.00	165.00	167.00	170.00	172.00	121.00	100.00	110.00	124.00	147.00	158.00	175.00	164.00	152.00	141.00	138.00	119.00	163.00	166.00	169.00	171.00	123.00	85.00	89.00	116.00	116.00	169.00	161.00	129.00	131.00	136.00	144.00	66.00	161.00	161.00	151.00	133.00	98.00	79.00	79.00	82.00	108.00	143.00	125.00	98.00	115.00	96.00	66.00	49.00	138.00	134.00	136.00	114.00	89.00	71.00	66.00	71.00	127.00	106.00	107.00	109.00	81.00	64.00	51.00	45.00	125.00	129.00	123.00	96.00	80.00	73.00	73.00	103.00	98.00	112.00	113.00	84.00	67.00	55.00	53.00	61.00	117.00	102.00	80.00	80.00	80.00	81.00	105.00	142.00	142.00	120.00	88.00	75.00	61.00	60.00	63.00	20.00	79.00	69.00	76.00	99.00	106.00	96.00	105.00	131.00	151.00	147.00	131.00	119.00	105.00	46.00	17.00	17.00	Object: 
nomask
160.00	167.00	177.00	188.00	201.00	221.00	240.00	251.00	253.00	254.00	255.00	255.00	255.00	254.00	253.00	255.00	162.00	166.00	177.00	186.00	199.00	219.00	246.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	159.00	164.00	171.00	180.00	196.00	216.00	238.00	254.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	153.00	160.00	162.00	171.00	188.00	209.00	237.00	254.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	254.00	148.00	150.00	139.00	148.00	178.00	209.00	241.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	248.00	138.00	135.00	89.00	123.00	176.00	212.00	237.00	254.00	255.00	255.00	255.00	255.00	255.00	255.00	255.00	240.00	114.00	87.00	57.00	66.00	114.00	176.00	222.00	244.00	254.00	255.00	255.00	255.00	255.00	255.00	254.00	232.00	85.00	57.00	69.00	60.00	104.00	139.00	195.00	223.00	239.00	250.00	253.00	254.00	253.00	247.00	229.00	198.00	58.00	52.00	69.00	63.00	103.00	110.00	156.00	193.00	210.00	224.00	228.00	228.00	221.00	209.00	191.00	168.00	42.00	43.00	49.00	54.00	81.00	73.00	144.00	176.00	190.00	197.00	198.00	194.00	185.00	171.00	160.00	143.00	37.00	38.00	43.00	62.00	107.00	95.00	151.00	165.00	170.00	173.00	170.00	164.00	156.00	140.00	130.00	122.00	38.00	35.00	43.00	60.00	104.00	131.00	144.00	151.00	151.00	150.00	146.00	138.00	126.00	106.00	115.00	126.00	Object: 
nomask
60.00	56.00	54.00	59.00	63.00	71.00	101.00	145.00	98.00	54.00	67.00	85.00	76.00	59.00	42.00	32.00	152.00	108.00	99.00	141.00	179.00	202.00	210.00	209.00	171.00	78.00	84.00	66.00	46.00	40.00	42.00	41.00	196.00	198.00	202.00	207.00	212.00	216.00	217.00	216.00	194.00	104.00	81.00	84.00	71.00	75.00	80.00	89.00	196.00	199.00	205.00	211.00	217.00	219.00	221.00	215.00	183.00	123.00	85.00	95.00	98.00	97.00	93.00	86.00	195.00	199.00	206.00	212.00	216.00	220.00	221.00	214.00	183.00	163.00	96.00	98.00	108.00	103.00	89.00	68.00	192.00	197.00	186.00	167.00	166.00	163.00	164.00	169.00	170.00	240.00	174.00	93.00	86.00	79.00	68.00	32.00	188.00	194.00	190.00	143.00	130.00	142.00	163.00	179.00	164.00	167.00	218.00	81.00	62.00	55.00	49.00	28.00	181.00	186.00	159.00	125.00	138.00	142.00	148.00	146.00	118.00	110.00	189.00	87.00	51.00	46.00	44.00	25.00	148.00	150.00	129.00	122.00	129.00	130.00	138.00	133.00	110.00	84.00	149.00	100.00	47.00	44.00	27.00	18.00	56.00	53.00	107.00	121.00	119.00	121.00	130.00	125.00	100.00	78.00	78.00	115.00	65.00	31.00	18.00	19.00	50.00	46.00	110.00	114.00	105.00	104.00	113.00	112.00	94.00	69.00	69.00	104.00	87.00	32.00	16.00	15.00	46.00	43.00	80.00	89.00	93.00	93.00	104.00	103.00	87.00	59.00	43.00	47.00	63.00	40.00	14.00	11.00	Object: 
nomask
134.00	123.00	122.00	122.00	122.00	122.00	121.00	117.00	112.00	106.00	99.00	91.00	83.00	79.00	71.00	37.00	138.00	132.00	133.00	137.00	140.00	142.00	143.00	140.00	136.00	131.00	127.00	121.00	112.00	91.00	71.00	24.00	139.00	144.00	153.00	156.00	160.00	162.00	162.00	160.00	157.00	146.00	128.00	99.00	98.00	81.00	85.00	39.00	133.00	149.00	155.00	160.00	164.00	167.00	169.00	169.00	166.00	100.00	54.00	87.00	84.00	34.00	61.00	22.00	139.00	152.00	158.00	163.00	167.00	171.00	173.00	173.00	166.00	103.00	152.00	197.00	170.00	44.00	57.00	27.00	141.00	154.00	159.00	164.00	167.00	172.00	174.00	174.00	169.00	126.00	191.00	250.00	225.00	81.00	43.00	42.00	142.00	152.00	157.00	162.00	167.00	171.00	172.00	172.00	157.00	127.00	180.00	246.00	208.00	97.00	32.00	50.00	141.00	149.00	154.00	158.00	162.00	165.00	167.00	166.00	153.00	132.00	182.00	249.00	203.00	111.00	32.00	49.00	139.00	144.00	148.00	138.00	126.00	122.00	117.00	114.00	114.00	123.00	200.00	254.00	218.00	124.00	36.00	36.00	136.00	137.00	141.00	129.00	83.00	83.00	90.00	113.00	118.00	97.00	108.00	190.00	159.00	114.00	50.00	26.00	131.00	130.00	133.00	88.00	75.00	81.00	86.00	90.00	84.00	59.00	57.00	125.00	112.00	71.00	23.00	30.00	125.00	123.00	123.00	76.00	68.00	74.00	75.00	78.00	70.00	53.00	45.00	82.00	71.00	54.00	23.00	25.00	Object: 
nomask
134.00	123.00	122.00	122.00	123.00	122.00	121.00	118.00	113.00	105.00	98.00	90.00	82.00	78.00	70.00	38.00	139.00	132.00	133.00	136.00	140.00	143.00	143.00	141.00	136.00	130.00	126.00	120.00	112.00	93.00	74.00	24.00	139.00	144.00	152.00	156.00	160.00	162.00	163.00	160.00	157.00	146.00	128.00	98.00	98.00	80.00	85.00	38.00	132.00	149.00	155.00	160.00	164.00	168.00	170.00	169.00	167.00	101.00	52.00	90.00	85.00	34.00	61.00	22.00	138.00	152.00	158.00	163.00	167.00	170.00	172.00	173.00	167.00	104.00	139.00	196.00	171.00	44.00	58.00	27.00	141.00	155.00	159.00	164.00	167.00	171.00	174.00	174.00	169.00	126.00	186.00	248.00	225.00	81.00	43.00	42.00	142.00	152.00	157.00	162.00	167.00	171.00	172.00	172.00	157.00	127.00	180.00	246.00	209.00	97.00	32.00	51.00	142.00	149.00	153.00	158.00	162.00	165.00	167.00	166.00	153.00	132.00	182.00	249.00	203.00	111.00	32.00	48.00	140.00	144.00	149.00	137.00	126.00	122.00	118.00	115.00	115.00	123.00	199.00	254.00	218.00	125.00	36.00	36.00	136.00	137.00	141.00	127.00	84.00	83.00	91.00	113.00	118.00	99.00	109.00	190.00	159.00	103.00	49.00	25.00	130.00	130.00	133.00	88.00	75.00	81.00	86.00	90.00	83.00	58.00	57.00	126.00	112.00	64.00	23.00	31.00	124.00	123.00	123.00	76.00	69.00	74.00	76.00	79.00	71.00	53.00	46.00	82.00	71.00	54.00	26.00	24.00	Object: 
nomask
134.00	123.00	122.00	122.00	122.00	122.00	120.00	117.00	112.00	105.00	99.00	91.00	84.00	80.00	70.00	37.00	139.00	133.00	133.00	137.00	140.00	142.00	143.00	140.00	135.00	130.00	126.00	121.00	113.00	91.00	71.00	23.00	139.00	144.00	153.00	156.00	160.00	162.00	162.00	160.00	157.00	146.00	127.00	97.00	98.00	80.00	85.00	38.00	133.00	149.00	155.00	160.00	165.00	168.00	169.00	169.00	166.00	100.00	51.00	77.00	74.00	33.00	61.00	22.00	139.00	152.00	159.00	164.00	168.00	171.00	173.00	174.00	167.00	103.00	162.00	195.00	167.00	43.00	58.00	27.00	141.00	154.00	159.00	164.00	167.00	171.00	174.00	174.00	168.00	126.00	192.00	250.00	225.00	81.00	42.00	41.00	141.00	152.00	157.00	162.00	166.00	170.00	171.00	171.00	157.00	127.00	179.00	246.00	208.00	97.00	32.00	50.00	141.00	149.00	153.00	158.00	162.00	164.00	166.00	166.00	153.00	132.00	182.00	249.00	203.00	111.00	32.00	48.00	139.00	144.00	148.00	137.00	125.00	121.00	117.00	114.00	114.00	124.00	199.00	236.00	169.00	88.00	33.00	35.00	135.00	137.00	141.00	128.00	83.00	84.00	89.00	113.00	118.00	98.00	106.00	157.00	73.00	41.00	37.00	23.00	131.00	130.00	133.00	88.00	75.00	80.00	86.00	89.00	82.00	57.00	55.00	125.00	95.00	29.00	20.00	23.00	125.00	123.00	123.00	76.00	69.00	73.00	75.00	77.00	69.00	52.00	44.00	81.00	69.00	39.00	15.00	18.00	Object: 
nomask
139.00	127.00	126.00	126.00	127.00	126.00	125.00	122.00	117.00	111.00	104.00	96.00	88.00	84.00	75.00	38.00	144.00	137.00	138.00	142.00	145.00	147.00	148.00	145.00	140.00	136.00	131.00	126.00	118.00	96.00	75.00	25.00	144.00	149.00	158.00	161.00	165.00	167.00	167.00	165.00	162.00	151.00	132.00	102.00	101.00	84.00	89.00	40.00	138.00	154.00	160.00	165.00	170.00	173.00	175.00	175.00	172.00	104.00	54.00	80.00	78.00	35.00	66.00	23.00	144.00	157.00	163.00	169.00	173.00	177.00	179.00	179.00	173.00	106.00	168.00	202.00	175.00	46.00	61.00	29.00	146.00	159.00	165.00	169.00	173.00	177.00	180.00	180.00	174.00	131.00	194.00	252.00	231.00	85.00	45.00	44.00	146.00	157.00	162.00	167.00	172.00	176.00	177.00	177.00	162.00	132.00	183.00	249.00	214.00	101.00	34.00	54.00	146.00	154.00	159.00	163.00	167.00	170.00	172.00	172.00	158.00	137.00	186.00	252.00	209.00	115.00	34.00	51.00	144.00	149.00	153.00	142.00	131.00	127.00	122.00	120.00	120.00	129.00	205.00	255.00	221.00	108.00	37.00	38.00	141.00	142.00	146.00	134.00	88.00	87.00	95.00	118.00	123.00	102.00	113.00	196.00	160.00	59.00	49.00	26.00	135.00	135.00	138.00	92.00	80.00	86.00	91.00	95.00	88.00	62.00	60.00	131.00	112.00	55.00	23.00	31.00	129.00	128.00	128.00	80.00	73.00	80.00	80.00	84.00	76.00	56.00	48.00	87.00	74.00	56.00	18.00	24.00	Object: 
nomask

```

# ??

~~I dont know why all zeroes are in my current frame.
Ok I admit that some of the (or whole ?) part is out of my knowledge and I don't know what I am doing.
I tried greyscale with same procedure by converting and downsampling sample images to greysacle and than generating model.h 
with arduino code setting to read a Greyscale frame. but some crashes and same zeroes as output.

ok Now my current frame is ok. but I think I got very few samples (10 of each class - LoL) to train the model so I am collecting more samples.
